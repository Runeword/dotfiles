zstyle ':completion:*' matcher-list 'm:{[:lower:]}={[:upper:]}' 'r:|[._-]=* r:|=*' 'l:|=* r:|=*'
setopt MENU_COMPLETE

autoload -U select-word-style
select-word-style bash

abbr import-aliases

bindkey -r "^[OC"
bindkey -r "^[OD"
bindkey -r "^["
bindkey -r "^V"
bindkey -r "^W"
bindkey -r "^Q"

bindkey "^M" accept-line
bindkey "^[[C" forward-char
bindkey "^[[D" backward-char
bindkey "^[[1;5D" backward-word
bindkey "^[[1;5C" forward-word

bindkey '^U' kill-whole-line
bindkey '^J' backward-kill-line
bindkey '^K' kill-line
bindkey '^H' backward-kill-word
bindkey '^[[3;5~' kill-word
bindkey '^E' end-of-line
bindkey '^A' beginning-of-line
bindkey '^[[A' history-beginning-search-backward
bindkey '^[[B' history-beginning-search-forward
bindkey '^I' complete-word
bindkey '^[[Z' reverse-menu-complete

if [ -d "$HOME/flake/home-manager/charles/modules/sh/functions" ]; then
  for file in "$HOME/flake/home-manager/charles/modules/sh/functions"/*; do
    . "$file"
  done
fi
